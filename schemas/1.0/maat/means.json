{
  "$schema":"http://json-schema.org/draft-06/schema#",
  "$id":"means.json",
  "title":"means details",
  "description":"Currencies amounts are stored in pence sterling",
  "type":"object",
  "properties":{
    "income_details":{
      "type":"object",
      "properties":{
        "income_payments":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "payment_type":{
                "type":"string",
                "enum":[
                  "private_pension",
                  "state_pension",
                  "maintenance",
                  "interest_investment",
                  "student_loan_grant",
                  "board_from_family",
                  "rent",
                  "financial_support_with_access",
                  "from_friends_relatives",
                  "other"
                ]
              },
              "amount":{
                "type":"integer"
              },
              "frequency":{
                "type":"string",
                "enum":[
                  "week",
                  "fortnight",
                  "four_weeks",
                  "month",
                  "annual"
                ]
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "partner"
                ]
              },
              "metadata":{
                "type":"object",
                "properties":{
                  "details":{
                    "anyOf":[
                      {
                        "type":"null"
                      },
                      {
                        "type":"string"
                      }
                    ]
                  }
                },
                "required":[]
              },
              "details":{
                "type":"string"
              }
            },
            "required":[
              "payment_type",
              "amount",
              "frequency"
            ]
          }
        },
        "income_benefits":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "payment_type":{
                "type":"string",
                "enum":[
                  "child",
                  "working_or_child_tax_credit",
                  "incapacity",
                  "industrial_injuries_disablement",
                  "jsa",
                  "other"
                ]
              },
              "amount":{
                "type":"integer"
              },
              "frequency":{
                "type":"string",
                "enum":[
                  "week",
                  "fortnight",
                  "four_weeks",
                  "month",
                  "annual"
                ]
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "partner"
                ]
              },
              "metadata":{
                "type":"object",
                "properties":{
                  "details":{
                    "anyOf":[
                      {
                        "type":"null"
                      },
                      {
                        "type":"string"
                      }
                    ]
                  }
                },
                "required":[]
              },
              "details":{
                "type":"string"
              }
            },
            "required":[
              "payment_type",
              "amount",
              "frequency"
            ]
          }
        },
        "employment_type":{
          "type":"array",
          "items":{
            "type":"string",
            "enum":[
              "employed", "self-employed", "business_partnership", "director", "shareholder", "not_working"
            ]
          }
        },
        "partner_employment_type":{
          "type":"array",
          "items":{
            "type":"string",
            "enum":[
              "employed", "self-employed", "business_partnership", "director", "shareholder", "not_working"
            ]
          }
        },
        "employment_details":{
          "type":"object",
          "properties":{
            "paye":{
              "type":"array",
              "items":{
                "type":"object",
                "properties":{
                  "amount":{
                    "type":"integer"
                  },
                  "date":{
                    "type":"string",
                    "format":"date"
                  },
                  "deductions":{
                    "type":"array",
                    "items":{
                      "type":"object",
                      "properties":{
                        "type":{
                          "type":"string"
                        },
                        "amount":{
                          "type":"integer"
                        }
                      },
                      "required":[
                        "type",
                        "amount"
                      ]
                    }
                  }
                },
                "required":[
                  "amount",
                  "date",
                  "deductions"
                ]
              }
            },
            "other":{
              "type":"object",
              "properties":{
                "amount":{
                  "type":"integer"
                },
                "details":{
                  "type":"string"
                }
              },
              "required":[
                "amount",
                "details"
              ]
            },
            "businesses":{
              "type":"array",
              "items":{
                "type":"object",
                "properties":{
                  "name":{
                    "type":"string"
                  },
                  "address":{
                    "type":"array",
                    "items":{
                      "type":"object",
                      "properties":{
                        "lookup_id":{
                          "anyOf":[
                            {
                              "type":"null"
                            },
                            {
                              "type":"string"
                            }
                          ]
                        },
                        "address_line_one":{
                          "type":"string"
                        },
                        "address_line_two":{
                          "anyOf":[
                            {
                              "type":"null"
                            },
                            {
                              "type":"string"
                            }
                          ]
                        },
                        "city":{
                          "type":"string"
                        },
                        "country":{
                          "type":"string"
                        },
                        "postcode":{
                          "type":"string"
                        }
                      },
                      "required":[
                        "lookup_id",
                        "address_line_one",
                        "address_line_two",
                        "city",
                        "country",
                        "postcode"
                      ]
                    }
                  },
                  "last_two_years_tax_liability":{
                    "type":"integer"
                  },
                  "total_turnover":{
                    "type":"integer"
                  },
                  "total_drawing":{
                    "type":"integer"
                  },
                  "total_profit":{
                    "type":"integer"
                  },
                  "director_salary":{
                    "type":"integer"
                  },
                  "share":{
                    "type":"number"
                  }
                },
                "required":[
                  "name",
                  "address",
                  "last_two_years_tax_liability",
                  "total_turnover",
                  "total_drawing",
                  "total_profit",
                  "director_salary",
                  "share"
                ]
              }
            }
          },
          "required":[
            "paye"
          ]
        },
        "total":{
          "type":"integer"
        },
        "dependants":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "age":{
                "type":"integer",
                "exclusiveMaximum":18
              }
            },
            "required":[
              "age"
            ]
          }
        }
      },
      "required":[]
    },
    "outgoings_details":{
      "type":"object",
      "properties":{
        "outgoings":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "payment_type":{
                "type":"string",
                "enum":[
                  "rent",
                  "mortgage",
                  "board_and_lodging",
                  "council_tax",
                  "childcare",
                  "maintenance",
                  "legal_aid_contribution"
                ]
              },
              "amount":{
                "type":"integer"
              },
              "frequency":{
                "type":"string",
                "enum":[
                  "week",
                  "fortnight",
                  "four_weeks",
                  "month",
                  "annual"
                ]
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "applicant_and_partner"
                ]
              }
            },
            "metadata":{
              "type":"object",
              "properties":{
                "details":{ "anyOf":[{ "type":"null" }, { "type":"string" }] },
                "case_reference":{ "anyOf":[{ "type":"null" }, { "type":"string" }] },
                "board_amount":{ "type":"integer" },
                "food_amount":{ "type":"integer" },
                "payee_name":{ "anyOf":[{ "type":"null" }, { "type":"string" }] },
                "payee_relationship_to_client":{ "anyOf":[{ "type":"null" }, { "type":"string" }] }
              },
              "required":[]
            },
            "required":[
              "payment_type",
              "amount",
              "frequency"
            ]
          }
        }
      },
      "required":[]
    },
    "capital_details":{
      "type":"object",
      "properties":{
        "premium_bonds_total_value":{
          "anyOf":[
            {
              "type":"null"
            },
            {
              "type":"integer"
            }
          ]
        },
        "trust_fund_amount_held":{
          "anyOf":[
            {
              "type":"null"
            },
            {
              "type":"integer"
            }
          ]
        },
        "partner_premium_bonds_total_value":{
          "anyOf":[
            {
              "type":"null"
            },
            {
              "type":"integer"
            }
          ]
        },
        "partner_trust_fund_amount_held":{
          "anyOf":[
            {
              "type":"null"
            },
            {
              "type":"integer"
            }
          ]
        },
        "savings":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "saving_type":{
                "type":"string",
                "enum":[
                  "bank",
                  "building_society",
                  "cash_isa",
                  "national_savings_or_post_office",
                  "other"
                ]
              },
              "account_balance":{
                "type":"integer"
              },
              "provider_name":{
                "type":"string"
              },
              "sort_code":{
                "type":"string"
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "applicant_and_partner",
                  "partner"
                ]
              },
              "is_overdrawn":{
                "type":"string",
                "enum":[
                  "yes",
                  "no"
                ]
              },
              "account_number":{
                "type":"string"
              },
              "are_wages_paid_into_account":{
                "type":"string",
                "enum":[
                  "yes",
                  "no"
                ]
              },
	      "are_partners_wages_paid_into_account": {
                "anyOf": [
                  { "type": "string", "enum": ["yes", "no"] },
		  { "type":"null" }
		]
	      }
            },
            "required":[
              "saving_type",
              "account_balance",
              "provider_name",
              "sort_code",
              "ownership_type",
              "is_overdrawn",
              "account_number",
              "are_wages_paid_into_account"
            ]
          }
        },
        "national_savings_certificates":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "value":{
                "type":"integer"
              },
              "holder_number":{
                "type":"string"
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "partner"
                ]
              },
              "certificate_number":{
                "type":"string"
              }
            },
            "required":[
              "value",
              "holder_number",
              "ownership_type",
              "certificate_number"
            ]
          }
        },
        "investments":{
          "type":"array",
          "items":{ 
            "type":"object",
            "properties":{
              "investment_type":{
                "type":"string",
                "enum":[
                  "bond",
                  "pep",
                  "share",
                  "share_isa",
                  "stock",
                  "unit_trust",
                  "other"
                ] 
              },
              "description":{
                "type":"string"
              },
              "value":{
                "type":"integer"
              },
              "ownership_type":{
                "type":"string",
                "enum":[
                  "applicant",
                  "applicant_and_partner",
                  "partner"
                ]
              }
            },
            "required":[
              "investment_type",
              "value",
              "description",
              "ownership_type"
            ]
           }
        },
        "properties":{
          "type":"array",
          "items":{
            "type":"object",
            "properties":{
              "property_type":{
                "type":"string",
                "enum":[
                  "residential",
                  "commercial",
                  "land"
                ]
              },
              "house_type":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"string"
                  }
                ],
                "enum":[
                  "bungalow",
                  "detached",
                  "flat_or_maisonette",
                  "semidetached",
                  "terraced",
                  "other",
                  null
                ]
              },
              "other_house_type":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"string"
                  }
                ]
              },
              "bedrooms":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"integer"
                  }
                ]
              },
              "value":{ 
                "type":"integer"
              },
              "outstanding_mortgage":{ 
                "type":"integer"
              },
              "percentage_applicant_owned":{ 
                "type":"number"
              },
              "percentage_partner_owned":{ 
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"number"
                  }
                ]
              },
              "is_home_address":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"string",
                    "enum":[
                      "yes",
                      "no"
                    ]
                  }
                ]
              },
              "address":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"object"
                  }
                ],
                "address_line_one":{
                  "type":"string"
                },
                "address_line_two":{
                  "anyOf":[
                    {
                      "type":"null"
                    },
                    {
                      "type":"string"
                    }
                  ]
                },
                "city":{
                  "type":"string"
                },
                "country":{
                  "type":"string"
                },
                "postcode":{
                  "type":"string"
                }
              },
              "property_owners":{
                "type":"array",
                "items":{
                  "type":"object",
                  "properties":{
                    "name":{
                      "type":"string"
                    },
                    "relationship":{
                      "type":"string",
                      "enum":[
                        "business_associates",
                        "ex_partner",
                        "family_members",
                        "friends",
                        "house_builder",
                        "housing_association",
                        "local_authority",
                        "partner_with_a_contrary_interest",
                        "property_company",
                        "other"
                      ]
                    },
                    "other_relationship":{
                      "anyOf":[
                        {
                          "type":"null"
                        },
                        {
                          "type":"string"
                        }
                      ]
                    },
                    "percentage_owned":{
                      "type":"number"
                    }
                  }
                },
                "required":[
                  "name",
                  "relationship",
                  "percentage_owned"
                ]
              },
              "has_other_owners":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"string",
                    "enum":[
                      "yes",
                      "no"
                    ]
                  }
                ]
              },
              "usage":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"string"
                  }
                ]
              },
              "size_in_acres":{
                "anyOf":[
                  {
                    "type":"null"
                  },
                  {
                    "type":"integer"
                  }
                ]
              }
            }
          },
          "required":[
            "property_type",
            "value",
            "outstanding_mortgage",
            "percentage_applicant_owned",
            "has_other_owners"
          ]
        }
      },
      "required":[]
    }
  },
  "required":[]
}
